<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
	<title>Rocks, Paper, Scissors</title>
	<link rel="stylesheet" href="styles/reset.css">
	<link rel="stylesheet" href="styles/style.css">
	<!-- <link rel="shortcut icon" type="image/png" href="./pictures/gsa_shadowed_144dp.png"> -->
</head>

<body>
	<script>
		// Ask if player wants to play
		if (confirm("Do you want to play a 5-round game of Rock, Paper, Scissors?")) {
			game();
		}
		
	
		// Computer's play function
		function computerPlay() {
			compRand = Math.floor(Math.random()*3+1)
			if (compRand == 1) {
				compPlay = "rock";
			} else if (compRand == 2) {
				compPlay = "paper";
			} else {
				compPlay = "scissors";
			}
//			console.log(compPlay);
			return compPlay;
		}
		// END FUNCTION
		
		// Create a function that plays a single round
		function playRound(playerSelection,computerSelection) {
			strWin = "You win!"
			strLose = "You lose!"
			strTie = "It's a tie!"
			strRvP = "Paper beats rock."
			strRvS = "Rock beats scissors."
			strPvS = "Scissors beats paper."
			
			if (playerSelection.toLowerCase() == "rock") {
				if (computerSelection == "rock") {
					result = strTie;
				} else if (computerSelection == "paper") {
					result = strLose + " " + strRvP;
				} else {
					result = strWin + " " + strRvS;
				}
			} else if (playerSelection.toLowerCase() == "paper") {
				if (computerSelection == "rock") {
					result = strWin + " " + strRvP;
				} else if (computerSelection == "paper") {
					result = strTie;
				} else {
					result = strLose + " " + strPvS;
				}
			} else if (playerSelection.toLowerCase() == "scissors") {
				if (computerSelection == "rock") {
					result = strLose + " " + strRvS;
				} else if (computerSelection == "paper") {
					result = strWin + " " + strPvS;
				} else {
					result = strTie;
				}
			}
		return result;
		} // END FUNCTION
		
		// Player selection function
		function playerPrompt() {
			playerPlay = prompt("Input 'rock,' 'paper,' or 'scissors.'");
			// Check for valid input
			while ((playerPlay.toLowerCase() != "rock") && (playerPlay.toLowerCase() != "paper") && (playerPlay.toLowerCase() != "scissors")) {
				playerPlay = prompt("Please input only 'rock,' 'paper,' or 'scissors!'");
			} // END WHILE
		} // END FUNCTION
		
		// Create the game function (5 rounds)
 		function game() {
			compPoints = 0;
			playerPoints = 0;
			
			for (i=1; i<=5; i++) {
				computerPlay(); // returns compPlay
				playerPrompt(); // returns playerPlay
				playRound(playerPlay,computerPlay()); // play a round
				console.log(result);
				
				// Track the score
				if (result.search("win") != -1) {
					compPoints = compPoints;
					playerPoints += 1;
				} else if (result.search("lose") != -1) {
					compPoints += 1;
					playerPoints = playerPoints;
				} else if (result.search("tie") != -1) {
					compPoints = compPoints;
					playerPoints = playerPoints;
				} else {
					alert("ERROR");
				} // END IF
			} // END FOR
			alert("You have " + playerPoints + " points and the computer has " + compPoints + " points.");
		} // END FUNCTION
		
 	</script>

</body>
</html>